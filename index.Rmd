--- 
title: "Formation au Tidyverse pour l'agroécologie"
subtitle: "Version 2.1"
author: "Oswaldo Forey"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
# output: bookdown::gitbook
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
github-repo: openscapes/series
description: "Plan de la formation au Tidyverse."
---

# Objectifs de la formation

<div align="justify">

L’objectif pédagogique de cette formation est d’acquérir les bases
nécessaires du langage Tidyverse du logiciel R pour devenir autonome dans la manipulation de ses
tableaux de données (transformation de variables, fusion de tableaux,
calculs groupés, selection de lignes ou de colonnes, etc.) et la production de graphiques (c’est à dire les étapes de l’analyse de données en amont de l’analyse statistique), le tout
intégralement avec le package Tidyverse du logiciel R.
L’objectif est ainsi de permettre une transition d’Excel à R et au Tidyverse, R étant plus puissant pour effectuer ces tâches, et le langage du Tidyverse plus adapté et plus facile à apprendre que le langage de base de R. <strong>Cette formation s’adresse à des débutant-e-s</strong> est à l’avantage et l’originalité d’être <strong>entièrement basée sur le nouveau langage du package Tidyverse, conçu spécifiquement pour l'analyse des données et plus simple à apprendre et manipuler que le langage de base de R</strong>, dont la complexité est le frein majeur à son utilisation par les néophytes.

</div>
----

A l’issu de la formation, les participant-e-s seront capable de :

- Installer R et RStudio, installer un package, utiliser RStudio

- Charger un tableau de données, vérifier et déclarer les types des
    variables (dataframe, vecteur, facteur, date)

- Effectuer les manipulation de données les plus courantes: filtrer
    des lignes, sélectionner des colonnes, faire des opérations
    (moyennes, écart-types) groupées selon certaines conditions
    (modalités, traitements, année, etc.), rajouter des colonnes, faire
    un calcul entre colonnes, compter des observations, fusionner des
    tableaux de tailles différentes, restructurer un tableau au bon
    format, corriger des chaines de caractères, séparer les données
    d’une colonne en plusieurs colonnes

- Faire différents types de graphiques (points, lignes, boxplots,
    histogrammes) et améliorer l’esthétique pour la publication
    (couleurs, limites des axes, police, légendes)

- Générer un rapport html, word ou pdf à partir du code et améliorer
    son esthétique avec Rmarkdown

----

## Pourquoi utiliser R pour manipuler ses tableaux et faire ses graphiques? {#pourquoi_R}

<div align="justify">

L’analyse de données ne consiste pas simplement à effectuer un test
statistique, mais est une suite d’opérations (fig.1) quasiment
immuables: manipuler ses tableaux de données, créer des graphiques pour
les visualiser, effectuer des tests statistiques et communiquer.

</div>

<br>

![](img/etapes_analyse_donnees.png "etapes analyse données")

Figure 1: Les étapes de l’analyse de données. <br>

<div align="justify">

L’expérience montre que dans la première chaîne d’opérations, avant les
tests statistiques, les opérations de manipulations de tableaux de
données et de production de graphiques prennent une place importante
(bien souvent plus importante que les statistiques) (fig.2), et
qu’elles peuvent être complexes (fusion de tableaux de tailles
différentes, restructuration des données, calculs selon certaines
conditions), ce qui rend l’utilisation d’Excel, qui est couramment
utilisé pour faire ces opérations, malaisé et source d’erreurs. En
effet, manipuler des tableaux de données “à la main” (souris,
copié/collé) présente un risque d’erreurs de manipulations non
négligeable, d’autant plus que les tableaux sont longs et les opérations
complexes. Utiliser un logiciel de programmation basé sur du code
informatique comme R permet d’<strong>éliminer les erreurs de
manipulation</strong>: si la consigne du code est de sélectionner
uniquement les observations d’une date donnée, R ne fera pas l’erreur
d’en oublier une.

</div>

<br>

<div align="justify">

L’utilisation d’Excel rend également difficile la <strong>transparence
et la reproductibilité</strong>, qui sont au cœur de la démarche scientifique et de la démarche qualité. En effet, manipuler ses données avec Excel implique des opérations invisibles pour une autre personne que celle qui les a conduites ainsi que la multiplication des feuilles dans lesquelles sont conduites ces opérations, ce qui les rend difficilement traçable et reproductible. Dans un contexte de travail en équipe et/ou de roulement des salariés, être en mesure de comprendre ce qu’à fait un collègue et de reproduire son travail est fondamental, ce
qui est rendu possible par l’utilisation de R, le code commenté étant
parfaitement transparent et reproductible. De plus, <strong>les éditeurs d'articles scientifiques commencent à demander de joindre aux articles soumis le code reproductible qui a permis de générer les résultats, que ce soient des tableaux, des graphiques ou des analyses statistiques</strong>, tendance qui va progressivement se généraliser. Il devient donc fondamental pour tout-e chercheur-se de manipuler ses données et faire ses graphiques avec un logiciel de programmation.

</div>

<br>

<div align="justify">

R est également un outil polyvalent qui propose aussi bien des outils
pour manipuler les données et produire les graphiques que pour effectuer
les analyses statistiques et réaliser les supports de communication
(rapport, présentation). Il est alors envisageable d’<strong>utiliser un
outil unique pour effectuer l’intégralité de la chaine d’analyses de
données</strong>, ce qui est un gain indéniable d’efficacité (on ne se
forme qu’à seul outil). Enfin, <strong>R est un logiciel libre et
gratuit</strong> et la très grande dynamique de la communauté mondiale
(forums, blogs, sites internet, tutoriels) apportent un soutien
indiscutable lorsqu’il s’agit de résoudre rapidement des problèmes ou de
poursuivre son autoformation.

</div>

<br>

![](img/exemple_code.png "Exemple code")

Figure 2: Illustration de la place relative prise par la manipulation des tableaux, la production des graphiques et l'analyse statistiques dans l'analyse de données, avec pour exemple un des graphiques de ma première publication (Forey et. al, 2016).
<br>

## Pourquoi utiliser le Tidyverse?

<div align="justify">

Le <a href="https://www.tidyverse.org">Tidyverse</a> est un ensemble de
packages (boites à outils contenant des fonctions)
rassemblant l’essentiel des fonctions utilisées quotidiennement pour la
manipulation de tableaux de données et la création de graphiques, c’est à
dire de l’analyse de données en amont de l’analyse statistique (fig.3).
Ces packages partagent la même logique, grammaire et structure des
données (dataframe), les rendant interopérables et facilitant leur prise en
main.<strong> L’avantage principal du Tidyverse est son nouveau langage,
conçu pour parler à l’humain avant la machine</strong>(noms de fonctions
explicites, familles de fonctions au même préfixe, un verbe=une
fonction).<strong> Il est ainsi plus simple à apprendre que celui du R
base et facilite la prise en main par des débutant-e-s en
programmation</strong>. De plus, le Tidyverse est développé par l’équipe
de RStudio, ce qui apporte l’assurance du maintien et de l’amélioration
permanente de toutes ses fonctionnalités. Enfin, à travers le package
ggplot2 et ses 81 packages satellites (ggpmisc, ggrepel, etc.), il
offre la possibilité de faire des graphiques de grande qualité.

</div>

<br>

![Tidyverse](img/tidyverse_environnement.png "Tidyverse packages")

Figure 3: Les packages constitutifs du Tidyverse et autres packages utilisés pendant la formation (rmarkdown, knitr, shiny) et leur place dans la chaine d’analyse de données. 
