[["index.html", "Formation au Tidyverse pour lagroécologie Version 2.1 1 Objectifs de la formation 1.1 Pourquoi utiliser R pour manipuler ses tableaux et faire ses graphiques? 1.2 Pourquoi utiliser le Tidyverse?", " Formation au Tidyverse pour lagroécologie Version 2.1 Oswaldo Forey 2021-03-19 1 Objectifs de la formation Lobjectif pédagogique de cette formation est dacquérir les bases nécessaires du langage Tidyverse du logiciel R pour devenir autonome dans la manipulation de ses tableaux de données (transformation de variables, fusion de tableaux, calculs groupés, selection de lignes ou de colonnes, etc.) et la production de graphiques (cest à dire les étapes de lanalyse de données en amont de lanalyse statistique), le tout intégralement avec le package Tidyverse du logiciel R. Lobjectif est ainsi de permettre une transition dExcel à R et au Tidyverse, R étant plus puissant pour effectuer ces tâches, et le langage du Tidyverse plus adapté et plus facile à apprendre que le langage de base de R. Cette formation sadresse à des débutant-e-s est à lavantage et loriginalité dêtre entièrement basée sur le nouveau langage du package Tidyverse, conçu spécifiquement pour lanalyse des données et plus simple à apprendre et manipuler que le langage de base de R, dont la complexité est le frein majeur à son utilisation par les néophytes. A lissu de la formation, les participant-e-s seront capable de : Installer R et RStudio, installer un package, utiliser RStudio Charger un tableau de données, vérifier et déclarer les types des variables (dataframe, vecteur, facteur, date) Effectuer les manipulation de données les plus courantes: filtrer des lignes, sélectionner des colonnes, faire des opérations (moyennes, écart-types) groupées selon certaines conditions (modalités, traitements, année, etc.), rajouter des colonnes, faire un calcul entre colonnes, compter des observations, fusionner des tableaux de tailles différentes, restructurer un tableau au bon format, corriger des chaines de caractères, séparer les données dune colonne en plusieurs colonnes Faire différents types de graphiques (points, lignes, boxplots, histogrammes) et améliorer lesthétique pour la publication (couleurs, limites des axes, police, légendes) Générer un rapport html, word ou pdf à partir du code et améliorer son esthétique avec Rmarkdown 1.1 Pourquoi utiliser R pour manipuler ses tableaux et faire ses graphiques? Lanalyse de données ne consiste pas simplement à effectuer un test statistique, mais est une suite dopérations (fig.1) quasiment immuables: manipuler ses tableaux de données, créer des graphiques pour les visualiser, effectuer des tests statistiques et communiquer. Figure 1: Les étapes de lanalyse de données. Lexpérience montre que dans la première chaîne dopérations, avant les tests statistiques, les opérations de manipulations de tableaux de données et de production de graphiques prennent une place importante (bien souvent plus importante que les statistiques) (fig.2), et quelles peuvent être complexes (fusion de tableaux de tailles différentes, restructuration des données, calculs selon certaines conditions), ce qui rend lutilisation dExcel, qui est couramment utilisé pour faire ces opérations, malaisé et source derreurs. En effet, manipuler des tableaux de données à la main (souris, copié/collé) présente un risque derreurs de manipulations non négligeable, dautant plus que les tableaux sont longs et les opérations complexes. Utiliser un logiciel de programmation basé sur du code informatique comme R permet déliminer les erreurs de manipulation: si la consigne du code est de sélectionner uniquement les observations dune date donnée, R ne fera pas lerreur den oublier une. Lutilisation dExcel rend également difficile la transparence et la reproductibilité, qui sont au cur de la démarche scientifique et de la démarche qualité. En effet, manipuler ses données avec Excel implique des opérations invisibles pour une autre personne que celle qui les a conduites ainsi que la multiplication des feuilles dans lesquelles sont conduites ces opérations, ce qui les rend difficilement traçable et reproductible. Dans un contexte de travail en équipe et/ou de roulement des salariés, être en mesure de comprendre ce quà fait un collègue et de reproduire son travail est fondamental, ce qui est rendu possible par lutilisation de R, le code commenté étant parfaitement transparent et reproductible. De plus, les éditeurs darticles scientifiques commencent à demander de joindre aux articles soumis le code reproductible qui a permis de générer les résultats, que ce soient des tableaux, des graphiques ou des analyses statistiques, tendance qui va progressivement se généraliser. Il devient donc fondamental pour tout-e chercheur-se de manipuler ses données et faire ses graphiques avec un logiciel de programmation. R est également un outil polyvalent qui propose aussi bien des outils pour manipuler les données et produire les graphiques que pour effectuer les analyses statistiques et réaliser les supports de communication (rapport, présentation). Il est alors envisageable dutiliser un outil unique pour effectuer lintégralité de la chaine danalyses de données, ce qui est un gain indéniable defficacité (on ne se forme quà seul outil). Enfin, R est un logiciel libre et gratuit et la très grande dynamique de la communauté mondiale (forums, blogs, sites internet, tutoriels) apportent un soutien indiscutable lorsquil sagit de résoudre rapidement des problèmes ou de poursuivre son autoformation. Figure 2: Illustration de la place relative prise par la manipulation des tableaux, la production des graphiques et lanalyse statistiques dans lanalyse de données, avec pour exemple un des graphiques de ma première publication (Forey et. al, 2016). 1.2 Pourquoi utiliser le Tidyverse? Le Tidyverse est un ensemble de packages (boites à outils contenant des fonctions) rassemblant lessentiel des fonctions utilisées quotidiennement pour la manipulation de tableaux de données et la création de graphiques, cest à dire de lanalyse de données en amont de lanalyse statistique (fig.3). Ces packages partagent la même logique, grammaire et structure des données (dataframe), les rendant interopérables et facilitant leur prise en main. Lavantage principal du Tidyverse est son nouveau langage, conçu pour parler à lhumain avant la machine(noms de fonctions explicites, familles de fonctions au même préfixe, un verbe=une fonction). Il est ainsi plus simple à apprendre que celui du R base et facilite la prise en main par des débutant-e-s en programmation. De plus, le Tidyverse est développé par léquipe de RStudio, ce qui apporte lassurance du maintien et de lamélioration permanente de toutes ses fonctionnalités. Enfin, à travers le package ggplot2 et ses 81 packages satellites (ggpmisc, ggrepel, etc.), il offre la possibilité de faire des graphiques de grande qualité. Tidyverse Figure 3: Les packages constitutifs du Tidyverse et autres packages utilisés pendant la formation (rmarkdown, knitr, shiny) et leur place dans la chaine danalyse de données. "],["méthode-pédagogique-et-architecture-de-la-formation.html", "2 Méthode pédagogique et architecture de la formation 2.1 Une formation progressive (fig.4, (A,D)) 2.2 Un fonctionnement en séquences (fig.4, (B)) 2.3 Une méthode pédagogique adaptée aux débutant-e-s (fig.4, (C)) 2.4 Des tableaux de données issus 2.5 Optimiser lapprentissage avec les sciences cognitives (fig.4, (F)) 2.6 Synthèse de la méthode pédagogique 2.7 Méthode dautoévaluation 2.8 Architecture de la formation", " 2 Méthode pédagogique et architecture de la formation La formation sappuie sur une méthode et une progression pédagogique conçues pour les débutant-e-s, et des méthodes basée sur les acquis des sciences cognitives en matière dapprentissage pour renforcer la mémorisation. Elle utilise linterface conviviale de RStudio, qui facilite lutilisation de R, le format Rmarkdown, qui permet de générer automatiquement des rapports (html,word, pdf ou même des diaporamas) à partir du code, des quiz interactifs générés avec le package learnr et une application interactive pour lautoévaluation des acquis générée avec le package shiny. Grace à tout cela, les participant-e-s sont étonné-e-s de ce quils-elles sont capables de faire à la fin du deuxième jour! 2.1 Une formation progressive (fig.4, (A,D)) La formation est conçue de manière progressive afin de renforcer lacquisition des connaissances (nom et usage des fonctions) et des compétences (remobilisation des fonctions dans un contexte différent, logique des opérations) et ainsi de permettre aux participant-e-s dêtre à laise avec la syntaxe du Tidyverse et ses fonctions de base. Cette progressivité se retrouve à deux niveaux: la réutilisation et lexploration progressive des différents usages des fonctions de base présentées en début de formation (séquence 2), du plus simple au plus complexe. la complexité croissante des exercices. 2.2 Un fonctionnement en séquences (fig.4, (B)) La formation est conçue sur la base dun enchaînement de huit séquences pédagogiques, chaque séquence portant sur une thématique et étant découpée en trois étapes : une démonstration, pendant lequel le formateur présente les connaissances et compétences à acquérir en tapant le code correspondant. un quiz de 4 à 6 questions conçues pour renforcer la mémorisation et faciliter lexercice. un ou plusieurs exercice(s) permettant de remobiliser dans un contexte différent les connaissances vues pendant la démonstration. 2.3 Une méthode pédagogique adaptée aux débutant-e-s (fig.4, (C)) Les formations aux logiciels informatiques sont classiquement basées sur le faire ensemble (le formateur montre pas à pas lenchaînement des opérations) et les participant-e-s sont alors contraint-e-s deffectuer plusieurs tâches simultanément : regarder le tableau pour découvrir les opérations tapées par le formateur, regarder ensuite son écran pour les taper, écouter les explications, prendre des notes, corriger ses erreurs. Ce mélange des tâches entraîne une diminution de la capacité découte et de compréhension, et en conséquence une diminution de lefficacité de lapprentissage. La méthode pédagogique utilisée ici et visant à pallier ses problèmes consiste à dédoubler la séquence de démonstration de la manière suivante : Une première démonstration, pendant lequel le formateur présente les connaissances et compétences à acquérir en tapant le code, pendant que les participant-e-s, sans taper le code, concentrent leur attention sur la compréhension des informations, les questions et la prise de note sur le document pdf envoyé en amont et à imprimer et contenant le code tapé par le formateur (ce qui facilite grandement la prise de notes). Une deuxième démonstration, pendant lequel le code est retapé cette fois-ci tous ensemble, afin que les participant-e-s pratiquent et fassent des erreurs corrigées par le formateur. Cette méthode est utilisée le premier jour, et assouplie le/les jour/s suivant/s, la démonstration ne se faisant ensuite quen un seul temps une fois les participant-e-s à laise avec le langage et sa syntaxe. 2.4 Des tableaux de données issus de situations de recherche réelles en agroécologie (fig.4, (E)) Les tableaux de données des démonstrations et des exercices sont issus de situations de recherche réelles en agroécologie, permettant une immersion dans la formation plus aisée pour les chercheur-e-s en agroécologie, pour qui cette formation est conçue. 2.5 Optimiser lapprentissage avec les sciences cognitives (fig.4, (F)) Enfin, lutilisation de certains principes dapprentissage issus des travaux des sciences cognitives permettent de renforcer lapprentissage : La préparation en amont de la formation par la lecture du plan détaillé de la formation envoyé aux participant-e-s Lalternance rapprochée de la théorie et de la pratique Le feedback proche (correction immédiate des quiz et exercices) La réactivation mémoire (i) lors des quiz, (ii) lors dun exercice de lecture de code en ouverture du deuxième jour, qui permet de réviser les fonctions de base vues lors de la séquence 2, et (iii) par lintégration de goodies dans chaque séquence (cest à dire des fonctions et astuces non couvertes pendant la formation, simplement mentionnées mais écrites dans le document donné aux participant-e-s) que les participant-e-s devront découvrir deux-elles mêmes après la formation, afin de les inciter à la réviser pour renforcer la mémorisation. 2.6 Synthèse de la méthode pédagogique Figure 4: Les points forts de la formation: (A) une formation progressive (réutilisation et exploration progressive des fonctions de la séquence 2 et (D) exercices de plus en plus longs et complexes ), (B) des séquences enchainant théorie/quiz/exercices pour renforcer lapprentissage, (C) une méthode pédagogique adaptées aux débutant-e-s, (E) des tableaux issus de situations réelles de recherche en agroécologie, et (F) un ensemble de méthodes et outils pour renforcer la mémorisation. 2.7 Méthode dautoévaluation A la fin de la formation, les participant-e-s sont invité-e-s à effectuer leur autoévaluation, qui consiste à produire deux graphiques (et le tableau de synthèse correspondant) présentant leur résultats aux quiz (évaluation de leur effort de mémorisation) et aux exercices (évaluation de leur capacité à remobiliser les connaissances dans des contextes différents), générés automatiquement par une application shiny. Le tableau est alors exportable et le code permettant de générer les graphiques intégré au document rmarkdown de la formation sous forme de goodies. 2.8 Architecture de la formation La formation repose sur 4 documents utilisés par les participant-e-s (fig. 5): Le pdf du script de la formation (hors exercices) à imprimer pour faciliter la prise de note Le modèle Rmarkdown du script de la formation Un quiz à ouvrir après chaque démonstration Une application shiny permettant de générer les graphiques de lautoévaluation et dexporter le tableau des résultats Figure 5: Architecture de la formation présentant les documents utilisés par les participant-e-s: (A) le pdf du script de la formation (hors exercices) à imprimer pour faciliter la prise de note, (B) le modèle Rmarkdown du script de la formation avec les items couverts par chaque démonstration (B.1) repris dans le pdf et dans lespace vide pour le code (B.2) pour guider lattention, des goodies (B.3) pour inciter à la révision de la formation, les consignes des exercices (B.4), un quiz à ouvrir après chaque démonstration (C) et une application shiny permettant de générer les graphiques de lautoévaluation et dexporter le tableau des résultats (D). "],["programme-de-la-formation.html", "3 Programme de la formation", " 3 Programme de la formation La formation se décline en deux formules, sur deux jours ou sur trois jours, la formule trois jours étant conçue pour être personnalisée et répondre ainsi aux besoins propres de la structure cliente, en proposant aux participant-e-s de travailler sur leurs données propres et sur des fonctions répondant à leurs besoins. Jour 1 Jour 2 Séquence 1: RStudio et bases de R - Linterface RStudio: les 4 fenêtres, les menus déroulants- La création dobjet, les fonctions, les types dobjets- Exercice 1: création dobjets, manipulation, création dun tableau de données Séquence 5: les tableaux de données complexes- Opérations conditionnelles, gestion des données manquantes- Représentation de combinaisons de variables sur le même graphique, représentation des écart-types- Exercice 5: sélection de valeurs selon conditions, graphique complexe Séquence 2: les 2 packages de base du Tidyverse- La syntaxe dun graphique simple avec ggplot2- La syntaxe et les fonctions de base de dplyr pour manipuler les tableaux- Exercice 2: selectionner des colonnes, faire une moyenne groupée par traitement, visualiser les moyennes Séquence 6: lamélioration des graphiques- Les 4 types de calques de ggplot2 et les différents types de modification (couleurs, axes, légendes, polices)- Exercice 6: mise en forme dun graphique Séquence 3: vision densemble de la chaine du traitement de données- Importer ses données, visualiser les données brutes, modifier le type des variables, transformer les données, visualiser les données transformées- Exercice 3: reproduire ces opérations avec des données différentes Séquence 7: Restructurer et nettoyer ses tableaux- Les deux fonctions essentielles de tidyr pour restructurer ses tableaux (passer du format large à long et vice-versa)- Exercice 7: restructurer un tableau de données et nettoyer des chaines de caractères (avec stringr) avant visualisation Séquence 4: fusion de tableaux et format rdata- Pourquoi et comment fabriquer un tableau au format rdata- Les deux manières essentielles de joindre des tableaux (collés et fusionnés)- Exercice 4: fusionner deux tableaux de taille différente et faire un rdata Séquence 8: Exercice de synthèse en autonomieDonnées issues de conditions réelles: restructurer un tableau, nettoyer des chaines de caractères, fusionner deux tableaux, visualiser les données brutes, calculer des moyennes et les écarts-types, visualiser les moyennes et écarts-types Auto-évaluation Remplissage du document dautoévaluation (application shiny) permettant de visualiser sous forme de graphiques ses résultats aux quiz et aux exercices Jour 3 Séquence 9a: Travail sur ses propres données - Mise en application sur ses propres données avec accompagnement du formateur Séquence 9b: Les différents types de graphiques (séquence en autonomie pour ceux-celles qui nont pas de données)- Les classiques: graphiques en barres, boxplot, violinplot, droite de régression- Histogrammes des comptages et des fréquences- Bonus: les matrices de paires avec un des nombreux packages satellites de ggplot2 (ggpairs), faire parler rapidement ses données avec la souris et le package esquisse- Exercice 9: petits exercices consistant à trouver la meilleure manière de représenter différents jeux de données Séquence 10: Produire de nombreux graphiques ou tableaux de manière automatisée- Introduction à la création dune fonction- présentation de la fonction map() permettant dappliquer la même opération (p.ex.faire un graphique) à un ensemble de modalités- Exercice 10: produire des graphiques de manière automatisée Séquence 11: Améliorer ses rapports générés par RMarkdown- Modifier lapparence du texte (styles, taille, position)- Inclure des tableaux dans le rapport- Inclure des légendes aux graphiques- Exporter les graphiques automatiquement- Créer un sommaireExercice 11: générer et améliorer un premier rapport sur ses données Séquence 12: Autres fonctions utiles pour manipuler ses données- Compter les observations- Sélectionner les individus selon leurs valeurs (les plus fortes, moins fortes, etc.)- Recoder des variables, changer lordre des colonnes, harmoniser lécriture des variables (majuscules)- Généraliser les if_else- Exercice 11: petits exercices pour appliquer ces fonctions Séquence 13: Rappel mémoire et autoévaluation:- Rappel mémoire individuel des connaissances acquises et cartographie des connaissances communes (carte mentale), autoévaluation des résultats aux quiz et aux exercices "],["aspects-pratiques.html", "4 Aspects pratiques 4.1 Modalités denseignement 4.2 Qui suis-je? 4.3 Coût de la formation 4.4 Contacts", " 4 Aspects pratiques 4.1 Modalités denseignement La formation est conçue pour être donnée aussi bien en présentiel quen distanciel, pour un public dun maximum de 15 personnes, limite au-delà de laquelle la qualité de laccompagnement individuel décroit. En présentiel, elle nécessite une salle équipée dun vidéoprojecteur et dune connexion internet, et dun ordinateur par personne. En distanciel, chaque participant-e doit se munir de deux écrans (un écran pour visualiser lenseignement, un écran pour taper le code). Loutil utilisé pour le distanciel est zoom, car il sest montré robuste et ces fonctionnalités adaptées à ce type de formations: partages décrans, possibilité de contrôle à distance des écrans des participant-e-s, fenêtre de discussion pour partager du code ou des instructions, tableau blanc, outils dannotation nombreux. Les instructions pour linstallation des logiciels et packages, les données qui servent de support pour la formation, le pdf à imprimer contenant le code de la formation (hors exercices) et servant à prendre des notes, ainsi que le document Rmarkdown servant de modèle pour taper le code lors de la formation sont envoyées à chaque participant-e une semaine avant la formation. Si vous optez pour la formule 3 jours, il est possible de laisser passer une semaine entre les deux premiers jours et le troisième afin de permettre aux participant-e-s de se confronter à lécriture de leur propre code et ce faisant didentifier les besoins particuliers à leurs analyses. 4.2 Qui suis-je? Oswaldo Forey, titulaire dun master en écologie et dun doctorat en agronomie, chercheur indépendant en philosophie des sciences appliquée à lagroécologie et formateur au Tidyverse depuis 2018. Je dispense cette formation au sein de ma micro-entreprise (n°SIRET: 499 165 215 00025), également organisme de formation (enregistré sous le numéro 84260289926. Cet enregistrement ne vaut pas agrément de lEtat). Jai donné cette formation à 21 reprises, pour un total de 308 heures et de 338 participant-e-s formé-e-s. ## Appréciation de la formation La figure 6 montre les résultats des enquêtes de satisfaction issus des 13 sessions pour lesquelles lévaluation de la formation a été conduite, ce qui est maintenant systématique. Figure 6: Appréciations de la formation par les participant-e-s pour les 13 évaluations en ma possession par année. Les boites au dessus de chaque session indiquent le nombre de personnes ayant répondu à lenquête. 4.3 Coût de la formation Le coût de la formation est de 1500 pour la formule 2 jours et 2250 pour la formule 3 jours, à quoi sajoutent les frais de déplacement calculés au réel pour les interventions à plus de 300km de mon domicile. Un service après-vente est également proposé après la formation pour accompagner les participant-e-s à distance. Les trois premières heures sont offertes, ce qui correspond globalement à deux échanges à distance et deux propositions damélioration du code, les heures suivantes sont facturées 40 de lheure. La procédure de certification qualité Qualiopi de mon organisme de formation (https://travail-emploi.gouv.fr/formation-professionnelle/acteurs-cadre-et-qualite-de-la-formation-professionnelle/article/qualiopi-marque-de-certification-qualite-des-prestataires-de-formation) est en cours et sera finalisée à la fin du premier semestre 2021. En plus dun gage de qualité, cette certification permettra la prise en charge du coût de la formation par les OPCO. 4.4 Contacts M Oswaldo FOREY 1300 route de Collonge 26260 Saint-Donat-Sur-lHerbasse oswaldoforey@gmail.com tel : 04 27 63 96 07 Site internet : https://oswaldoforey.github.io/Website_bookdown/ "]]
